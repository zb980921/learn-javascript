<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 继承是多态的前提
      class Shape {
        getArea() {}
      }

      class Rectangle extends Shape {
        constructor(width, height) {
          super();
          this.width = width;
          this.height = height;
        }

        getArea() {
          return this.width * this.height;
        }
      }

      class Circle extends Shape {
        constructor(radius) {
          super();
          this.radius = radius;
        }

        getArea() {
          return this.radius * this.radius * Math.PI;
        }
      }

      var rect1 = new Rectangle(200, 100);
      var rect2 = new Rectangle(20, 10);
      var c1 = new Circle(20);
      var c2 = new Circle(10);

      /*
        在严格意义的面向对象语言中，多态存在如下条件：
          1.必须有继承(实现接口)
          2.必须有父类引用指向子类对象，TS 代码如 `let s: Shape = c1`
       */
      function printArea(shape) {
        if (!(shape instanceof Shape)) {
          throw new TypeError("请传入 Shape 类型的对象！");
        }
        console.log(shape.getArea());
      }

      printArea(rect1);
      printArea(c2);
      // printArea("123"); // TypeError: 请传入 Shape 类型的对象！
      // printArea({}); // TypeError: 请传入 Shape 类型的对象！

      // var obj = {
      //   getArea: function () {
      //     return 10000;
      //   },
      // };
      // printArea(obj); // TypeError: 请传入 Shape 类型的对象！
    </script>
  </body>
</html>
